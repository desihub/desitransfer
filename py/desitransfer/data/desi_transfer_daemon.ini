#
# Configuration for a specific source -> desitination directory.
#
[DESI_SPECTRO_DATA]
source = /data/dts/exposures/raw
staging = ${DESI_ROOT}/spectro/staging/raw
destination = ${DESI_SPECTRO_DATA}
hpss = desi/spectro/data
expected_files = desi-{exposure}.fits.fz,fibermap-{exposure}.fits,guider-{exposure}.fits.fz
checksum_file = checksum-{night}-{exposure}.sha256sum

#
# Common configuration for all transfers.
#
[common]
# Use this directory for temporary files.
scratch = ${CSCRATCH}
# UTC time in hours to look for delayed files.
# Disable this with an invalid hour, e.g. 30.
catchup = 14
# UTC time in hours to trigger HPSS backups.
# Disable this with an invalid hour, e.g. 30.
backup = 20
# Sleep this many minutes before checking for new data.
sleep = 10

#
# Log file configuration.
#
[logging]
filename = ${DESI_ROOT}/spectro/staging/logs/desi_transfer_daemon.log
size = 100000000
backups = 100
# to = desi-data@desi.lbl.gov
to = baweaver@lbl.gov

#
# Configuration for generating pipeline commands.
#
[pipeline]
desi_night = ${HOME}/bin/wrap_desi_night.sh
ssh = /bin/ssh
host = cori
queue = realtime
nodes = 25
commands = science:redshifts
exposure = update
